@using TextHub.Services.Data
@inject ToolDataService ToolDataService

<section class="py-16 md:py-24 px-4 bg-muted/5">
    <div class="container mx-auto max-w-7xl">
        <div class="mb-16 md:mb-20 animate-fade-in" style="animation-delay: 450ms;">
            <SectionHeader Title="Text Conversion Tools" Description="Convert text between different formats and encodings" Icon="@_conversionIcon" />
            <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                @foreach (var (tool, index) in _availableTextConversionTools.Select((t, i) => (t, i)))
                {
                    <ToolCardComponent Tool="tool" AnimationDelay="@(450 + index * 100)" />
                }
            </div>
        </div>
    </div>
</section>

@code {
    private List<TextHub.Models.Tool> _availableTextConversionTools = new();
    private readonly string _conversionIcon = "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"w-6 h-6 text-primary\"><path d=\"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z\"></path></svg>";

    protected override void OnInitialized()
    {
        _availableTextConversionTools = ToolDataService.GetTextConversionTools();
    }
}
